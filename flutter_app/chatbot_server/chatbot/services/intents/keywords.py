# chatbot/services/intents/keywords.py
import re

SMALLTALK_EXCLUDE_KEYWORDS = [
    "예약", "진료", "취소", "변경", "조회", "내역", "증상", "접수", "대기", 
    "주차", "위치", "주소", "전화", "연락", "시간", "진료과", "검사",
]

TRUSTED_INFO_SOURCE_FILES = ("hospital_info.txt", "parking_info.txt")

SYMPTOM_DEPARTMENT_RULES = [
    (
        (
            "숨이 차", "숨차", "숨 쉬", "숨쉬", "숨가쁨", "호흡곤란", "호흡", 
            "기침", "기침이 오래", "가래", "기관지", "천식", "가슴이 답답", "가슴 답답",
            "아기가 열이", "열이 나", "열나", "열이", "발열", "감기", "기침", "콧물",
        ),
        "호흡기내과",
    ),
    (
        (
            "혹이", "혹이 생", "혹 생", "혹이 있어", "종괴", "낭종", "피지낭종", 
            "멍울", "상처", "찢어", "찢", "봉합", "절개", "베였", "베여", "출혈",
            "유방", "유방 통증", "가슴 멍울", "유방 멍울", "유두",
            "배가 아파", "배가 아프", "배가 아픈", "배 아파", "배 아프", "복통", 
            "속이 아파", "속이 쓰", "속쓰림", "소화가 안", "소화불량", "구토", 
            "메스껍", "메스꺼", "설사", "변비", "위통", "장염",
        ),
        "외과",
    ),
]

SYMPTOM_INTENT_CUES = [
    "증상", "증상으로", "증상 알려", "증상 말", "증상 때문에", 
    "어느 과", "어떤 과", "어느 진료과", "어떤 진료과", "어느과", "어떤과", 
    "진료과 추천", "진료과 추천해", "진료과 알려", "진료과는 모르", 
    "진료과 모르", "진료과 모름", "진료과 선택", "진료과 고르", "진료과 결정", 
    "맞는 과", "맞는 진료과", "어디로 가", "어디로 가야", "어디로 가면",
]

MEDICAL_HISTORY_CUES = [
    "진료내역", "진료 내역", "진료기록", "진료 기록", "진료이력", "진료 이력",
]

DOCTOR_FOLLOWUP_CUES = [
    "다른", "또", "더", "추가", "나머지", "다른 사람", 
    "다른 의사", "의사 더", "의료진 더", "다른분",
]

SYMPTOM_INFO_CUES = ["안내", "목록", "리스트", "매핑"]

SYMPTOM_BOOKING_CUES = [
    "예약", "예약해", "예약 해", "예약잡", "예약 잡", "예약하고", "예약 하고",
    "예약하고싶", "예약 하고싶", "예약하고 싶", "접수해", "접수 해",
]

SYMPTOM_VISIT_CUES = [
    "가고", "갈래", "가도", "가야", "가면", "갈까", "가려", "내원", "방문할", "진료받",
]

RESCHEDULE_CUES = [
    "변경", "바꿔", "바꿔줘", "옮겨", "옮겨줘", "미뤄", "미뤄줘", "연기", "연기해",
]

CANCEL_CUES = ["취소", "취소해", "취소해줘", "없애", "없애줘"]

NEGATIVE_CUES = [
    "아니", "아냐", "아니요", "아니에요", "아닙니다", "안할", "안 할", 
    "안해", "안 해", "싫", "싫어", "그만", "멈춰", "하지마", "하지 말", 
    "됐다", "됐어", "됐어요", "필요없", "필요 없", "stop", "no",
]

BULK_CANCEL_CUES = ["전부", "모두", "전체", "일괄", "한번에", "모든"]

RESCHEDULE_TIME_KEEP_CUES = ["같은 시간", "동일하게", "시간은 동일", "시간은 그대로", "시간 동일"]

TIME_HINT_WORDS = [
    "오늘", "내일", "모레", "이번주", "다음주", "금일", 
    "월요일", "화요일", "수요일", "목요일", "금요일", "토요일", "일요일", 
    "월요", "화요", "수요", "목요", "금요", "토요", "일요",
]

ASAP_HINT_WORDS = [
    "당장", "최대한 빨리", "가능한 빨리", "빠른 시일", "가장 빠른", 
    "빨리", "급해", "긴급", "바로",
]

BOOKING_PROMPT_MARKERS = [
    "예약을 위해", "예약을 진행", "예약을 도와", "예약을 잡", "예약 진행", "예약 도와",
    "희망 날짜/시간", "희망 날짜와 시간", "희망 날짜", "희망 시간", "희망 시간대", 
    "희망 시간대를", "시간대를 알려주세요", "시간대 알려주세요", "시간으로 알려주세요", 
    "시간으로 알려줘", "말씀하신 시간대로", "진료과를 알려", "진료과와 희망", 
    "지난 날짜나 시간", "오늘 이후의 날짜와 시간",
]

RESERVATION_HISTORY_CUES = [
    "예약내역", "예약 내역", "예약이력", "예약 이력", "예약 기록", 
    "예약조회", "예약 조회", "예약확인", "예약 확인", "다음 예약", 
    "다음예약", "다음 일정", "내 예약", "내예약", "예약시간", 
    "예약 시간", "예약일정", "예약 일정", "예약스케줄", "예약 스케줄",
]

RESERVATION_LOGIN_GUARD_CUES = [
    "예약", "예약내역", "예약 내역", "예약이력", "예약 이력", "예약 기록", 
    "예약조회", "예약 조회", "예약확인", "예약 확인", "예약시간", "예약 시간", 
    "예약일정", "예약 일정", "예약스케줄", "예약 스케줄", "예약취소", "예약 취소", 
    "예약변경", "예약 변경",
]

DOCTOR_CHANGE_CUES = [
    "의사 변경", "의사 바꿔", "의사 바꿔줘", "의사 교체", "의료진 변경", 
    "의료진 바꿔", "의료진 바꿔줘", "의료진 교체", "의사를 바꿔", "의사를 변경", 
    "의료진을 바꿔", "의료진을 변경",
]

DOCTOR_SELECT_CUES = [
    "의사로", "의료진으로", "선택", "예약할게요", "예약할래", "예약해줘", 
    "예약하겠", "선택할게요", "선택할래",
]

DOCTOR_CHANGE_PROMPT = "의료진을 선택해 주세요. 의사 변경을 진행합니다."
DOCTOR_SELECT_PROMPT = "의료진을 선택해 주세요."

# Regex Patterns
TIME_HINT_PATTERN = re.compile(r"(?:\d{1,2}\s*(?:월|/)\s*\d{1,2}\s*(?:일)?|\d{1,2}:\d{2}|\d{1,2}\s*시)")
TIME_EXTRACT_PATTERN = re.compile(
    r"(?:\d{1,2}\s*월\s*\d{1,2}\s*일|\d{1,2}/\d{1,2}|"
    r"(?:오전|오후|저녁|밤|새벽)?\s*\d{1,2}\s*시(?:\s*\d{1,2}\s*분)?|\d{1,2}:\d{2})"
)
DATE_EXTRACT_PATTERN = re.compile(
    r"(?:\d{4}\s*\uB144\s*)?\d{1,2}\s*\uC6D4\s*\d{1,2}\s*\uC77C|\d{1,2}\s*/\s*\d{1,2}|\d{4}-\d{1,2}-\d{1,2}"
)
DATE_KOR_PATTERN = re.compile(r"(?:(\d{4})\s*\uB144\s*)?(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C")
DATE_SLASH_PATTERN = re.compile(r"(?:(\d{4})\s*/\s*)?(\d{1,2})\s*/\s*(\d{1,2})")
DATE_DASH_PATTERN = re.compile(r"(\d{4})\s*-\s*(\d{1,2})\s*-\s*(\d{1,2})")
DAY_ONLY_PATTERN = re.compile(r"(\d{1,2})\s*일")
TIME_SPECIFIC_PATTERN = re.compile(r"(?:\d{1,2}\s*시|\d{1,2}:\d{2})")
DATE_HINT_PATTERN = re.compile(r"(?:\d{1,2}\s*월\s*\d{1,2}\s*일|\d{1,2}/\d{1,2})")
